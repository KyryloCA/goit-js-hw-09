{"mappings":"AAAaA,SAASC,cAAc,SAC/BC,iBAAiB,UAEtB,SAAqBC,GACnBA,EAAUC,iBACV,IAAMC,EAAkBC,OAAOH,EAAUI,OAAOC,SAAS,GAAGC,OACtDC,EAAiBJ,OAAOH,EAAUI,OAAOC,SAAS,GAAGC,OACrDE,EAAWL,OAAOH,EAAUI,OAAOC,SAAS,GAAGC,OAErDG,QAAQC,IAAK,kBAEDC,YAAD,WACT,IAAIC,EAAI,EACFC,EAAOC,aAAY,WAiB7B,IAAuBC,EAAUC,EAhBvBJ,EAAIJ,IAgBSO,EAfDH,EAeWI,EAfRT,EAgBDU,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAAEL,WAAUC,UAG5BG,QAAQE,OAAO,CAAEN,WAAUC,WApB3BM,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MACjBP,QAAQC,IAAI,uBAAwCc,OAAfT,EAAS,QAAYS,OAANR,EAAM,M,IAE3DS,OAAM,SAAAF,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MAClBP,QAAQC,IAAI,sBAAqCc,OAAfT,EAAS,QAAYS,OAANR,EAAM,M,IAE3DJ,KAEAc,cAAcb,E,GAEfN,E,GACFL,EAAkBK,E","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('.form');\nform.addEventListener('submit', runPromices);\n\nfunction runPromices(submitObj) {\n  submitObj.preventDefault();\n  const firstDelayField = Number(submitObj.target.elements[0].value);\n  const delayStepField = Number(submitObj.target.elements[1].value);\n  const runTimes = Number(submitObj.target.elements[2].value);\n\n  console.log(`дошли до цикла`);\n\n  setTimeout(() => {\n    let i = 0;\n    const step = setInterval(() => {\n      if (i < runTimes) {\n        createPromise(i, delayStepField)\n          .then(({ position, delay }) => {\n            console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n        i++;\n      } else {\n        clearInterval(step);\n      }\n    }, delayStepField);\n  }, firstDelayField - delayStepField);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({ position, delay });\n  } else {\n    // Reject\n    return Promise.reject({ position, delay });\n  }\n}\n"],"names":["document","querySelector","addEventListener","submitObj","preventDefault","firstDelayField","Number","target","elements","value","delayStepField","runTimes","console","log","setTimeout","i","step","setInterval","position","delay","Math","random","Promise","resolve","reject","then","param","concat","catch","clearInterval"],"version":3,"file":"03-promises.98e9c359.js.map"}